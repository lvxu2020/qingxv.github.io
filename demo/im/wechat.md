# 目录

- [效果展示](#效果展示-1)
- [产品概述](#产品概述-2)
- [功能实现简介](#功能实现简介-3)
    - [1.工具栏](#1-工具栏-1)
        - [主题](#主题-1)
    - [2.好友列表](#2-好友列表-2)
    - [3.聊天界面](#3-聊天界面-3)
        - [聊天窗口](#聊天窗口-2)
            - [内容框](#内容框-1)
            - [输入框](#输入框-2)

---
# 效果展示 <a id="效果展示-1"></a>

<video width="1000" height="800" controls>
  <source src="wechat.mp4" type="video/mp4">
</video>

# 产品概述 <a id="产品概述-2"></a>
一个简易的IM通信前端效果展示，使用qt的qml进行界面开发，通信用qt的udp监听本地ip与指定端口进行消息收发

# 功能实现简介 <a id="功能实现简介-3"></a>
## 1.工具栏 <a id="1-工具栏-1"></a>
### 主题 <a id="主题-1"></a>
点击主题出现一个用Popup弹框，采用GridView布局各种颜色。以GridView的index为索引在的config里面保存，这样其它qml组件可以监听这个配置的变化实现同步换肤。
## 2.好友列表 <a id="2-好友列表-2"></a>
好友列表使用qml中的ListView展示，使用委托自定义每个Item的界面（头像、名字、时间、消息预览），
mode在cpp文件里实现，在qml层进行信号绑定进行数据监听。model继承QAbstractListModel实现指定的虚函数和自定义的信号。    
当消息更新时判断当前listview是不是焦点。进行消息红点显隐控制。
消息类型里有群聊和个人的枚举。
## 3.聊天界面 <a id="3-聊天界面-3"></a>
刚刚登录时，聊天框采用默认背景展示。
点击好友列表的聊天时切到对应的聊天框，从将cpp的聊天model传入聊天框中获取聊天信息进行展示
### 聊天窗口 <a id="聊天窗口-2"></a>
窗口布局分为 名称栏、内容框、输入框
#### 内容框 <a id="内容框-1"></a>
通过cpp中 聊天model的的数据， 与qml的 listView 进行展示聊天内容
#### 输入框 <a id="输入框-2"></a>
表情框再用 qml的Popup进行展示AnimatedImage  
文本输入采用qml的 ScrollView内嵌一个TextArea来实现。  
在TextArea里面用cpp里实现一个富文本文本处理类通过qmlRegisterType<>注册到qml中给TextAre使用。  
点击发送时，通过udp发送到局域网。